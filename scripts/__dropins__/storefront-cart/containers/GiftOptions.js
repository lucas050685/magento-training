/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsxs as f,Fragment as A,jsx as t}from"@dropins/tools/preact-jsx-runtime.js";import{classes as xe}from"@dropins/tools/lib.js";import{Modal as Ke,Price as de,ContentGrid as Ze,ImageSwatch as Xe,Button as ne,Skeleton as Je,SkeletonRow as Qe,Field as Z,Checkbox as ie,Input as _e,TextArea as Ye,Accordion as Pe,AccordionSection as Ne,Icon as J,Card as Me,ProgressSpinner as De}from"@dropins/tools/components.js";/* empty css                   */import*as Q from"@dropins/tools/preact-compat.js";import{useState as N,useEffect as oe,useId as We,useCallback as K,useMemo as ve}from"@dropins/tools/preact-hooks.js";import{useText as X}from"@dropins/tools/i18n.js";import{s as E}from"../chunks/resetCart.js";import{S as Ve}from"../chunks/ChevronUp.js";import{S as $e}from"../chunks/ChevronDown.js";import{events as Ue}from"@dropins/tools/event-bus.js";import{u as et}from"../chunks/updateProductsFromCart.js";import{s as tt}from"../chunks/setGiftOptionsOnCart.js";import"@dropins/tools/fetch-graphql.js";import"../chunks/persisted-data.js";import"../chunks/refreshCart.js";import"../fragments.js";import"../chunks/acdl.js";const U=e=>Q.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},Q.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z",stroke:"currentColor"}),Q.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M6.75 12.762L10.2385 15.75L17.25 9",stroke:"currentColor"})),se=e=>Q.createElement("svg",{width:20,height:23,viewBox:"0 0 20 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},Q.createElement("path",{d:"M10 6L10 21.5M10 6H12.25C13.4926 6 14.5 4.99264 14.5 3.75C14.5 2.50736 13.4926 1.5 12.25 1.5C11.0074 1.5 10 2.50736 10 3.75M10 6V3.75M10 6H7.75C6.50736 6 5.5 4.99264 5.5 3.75C5.5 2.50736 6.50736 1.5 7.75 1.5C8.99264 1.5 10 2.50736 10 3.75M3.25 10.75H16.75C17.9926 10.75 19 9.74264 19 8.5C19 7.25736 17.9926 6.25 16.75 6.25H3.25C2.00736 6.25 1 7.25736 1 8.5C1 9.74264 2.00736 10.75 3.25 10.75ZM4.75 21.5H15.25C16.4926 21.5 17.5 20.4926 17.5 19.25V13.25C17.5 12.0074 16.4926 11 15.25 11H4.75C3.50736 11 2.5 12.0074 2.5 13.25V19.25C2.5 20.4926 3.50736 21.5 4.75 21.5Z",stroke:"currentColor",strokeWidth:1.5})),rt=({view:e,showModal:o,productName:l,giftWrappingConfig:c,setShowModal:r,updateGiftOptions:p})=>{var y;const u=X({modalTitle:"Cart.GiftOptions.modal.title",defaultTitle:"Cart.GiftOptions.modal.defaultTitle",modalWrappingText:"Cart.GiftOptions.modal.wrappingText",modalWrappingSubText:"Cart.GiftOptions.modal.wrappingSubText",modalConfirmButton:"Cart.GiftOptions.modal.modalConfirmButton",modalCancelButton:"Cart.GiftOptions.modal.modalCancelButton"}),[n,s]=N();if(oe(()=>{const i=c.find(w=>w.selected)??c[0];s(i)},[c]),!o||!c.length)return null;const m=l?`${u.modalTitle} ${l}`:u.defaultTitle;return f(Ke,{"data-testid":`gift-option-modal-${e}`,className:"cart-gift-options-view__modal",size:"medium",title:f(A,{children:[t("span",{children:m}),n&&((y=n==null?void 0:n.price)==null?void 0:y.value)>0?t(de,{amount:n.price.value,currency:n.price.currency,weight:"normal"}):null]}),centered:!0,onClose:r,children:[f("div",{className:"cart-gift-options-view__modal-content",children:[t("span",{className:"cart-gift-options-view__modal-text",children:u.modalWrappingText}),t(Ze,{emptyGridContent:t(A,{}),maxColumns:6,columnWidth:"100px",className:"cart-gift-options-view__modal-grid",children:c.map(i=>t(Xe,{selected:(n==null?void 0:n.uid)===(i==null?void 0:i.uid),onValue:()=>{s(i)},name:"giftWrappingId",value:i.uid,src:i.image.url,alt:i.image.design,label:i.image.design,"data-testid":`gift-option-modal-image-${i.uid}`,className:"cart-gift-options-view__modal-grid-item"},i.uid))}),t("span",{className:"cart-gift-options-view__modal-sub-text",children:n==null?void 0:n.design})]}),t(ne,{"data-testid":"gift-option-modal-confirm-button",type:"button",onClick:()=>{p("giftWrappingId",n==null?void 0:n.uid,{isGiftWrappingSelected:!0}),r()},children:u.modalConfirmButton}),t(ne,{type:"button",variant:"secondary",onClick:r,"data-testid":"gift-option-modal-cancel-button",children:u.modalCancelButton})]})},it=()=>t(Je,{children:t(Qe,{variant:"row",size:"small",fullWidth:!0,lines:1,multilineGap:"small"})}),nt=({className:e,view:o,item:l,giftOptions:c,disabled:r,cartData:p,giftWrappingConfig:u,setShowModal:n,onInputChange:s,areGiftOptionsVisible:m})=>{var $,S,z,L;const y=We(),i=X({customize:`Cart.GiftOptions.${o}.customize`,giftReceiptIncludedTitle:`Cart.GiftOptions.${o}.giftReceiptIncluded.title`,giftReceiptIncludedText:`Cart.GiftOptions.${o}.giftReceiptIncluded.subtitle`,printedCardIncludedTitle:`Cart.GiftOptions.${o}.printedCardIncluded.title`,printedCardIncludedText:`Cart.GiftOptions.${o}.printedCardIncluded.subtitle`,giftOptionsWrapTitle:`Cart.GiftOptions.${o}.giftOptionsWrap.title`,giftOptionsWrapText:`Cart.GiftOptions.${o}.giftOptionsWrap.subtitle`,requiredFieldError:"Cart.GiftOptions.formText.requiredFieldError"}),w=l==null?void 0:l.productGiftWrapping,W=p==null?void 0:p.cartGiftWrapping,_=o==="product"?w:W,C=_==null?void 0:_.find(H=>H.uid===c.giftWrappingId),M=(C==null?void 0:C.design)??"",g=l==null?void 0:l.giftWrappingPrice,T=M?`${i.giftOptionsWrapText} ${M}`:"",v=+(((S=($=E.config)==null?void 0:$.printedCardPrice)==null?void 0:S.value)??0)>0?(z=E.config)==null?void 0:z.printedCardPrice:null;let x=null;g!=null&&g.value?x=g:(L=C==null?void 0:C.price)!=null&&L.value&&(x=C.price);const V=H=>H?f("span",{children:["Â (+",t(de,{amount:H.value,currency:H.currency,weight:"normal"}),")"]}):null;return f("div",{className:xe([e,[`${e}--hidden`,!m.isGiftOptionsVisible]]),children:[m.isGiftReceiptVisible?t(Z,{disabled:r,className:"cart-gift-options-view__field-gift-receipt",children:t(ie,{id:`giftReceiptIncluded-${y}`,disabled:r,name:"giftReceiptIncluded",checked:c.giftReceiptIncluded,placeholder:i.giftReceiptIncludedTitle,label:i.giftReceiptIncludedTitle,description:i.giftReceiptIncludedText,onChange:s})}):null,m.isPrintedCartVisible?t(Z,{disabled:r,className:"cart-gift-options-view__field-printed-card",children:t(ie,{id:`printedCardIncluded-${y}`,disabled:r,name:"printedCardIncluded",checked:c.printedCardIncluded,placeholder:i.printedCardIncludedTitle,label:f(A,{children:[i.printedCardIncludedTitle,V(v)]}),description:i.printedCardIncludedText,onChange:s})}):null,m.isGiftWrappingVisible?f(A,{children:[t(Z,{disabled:r,className:"cart-gift-options-view__field-gift-wrap",children:t(ie,{id:`giftOptionsWrap-${y}`,disabled:r,name:"isGiftWrappingSelected",checked:c.isGiftWrappingSelected,placeholder:i.giftOptionsWrapTitle,label:f(A,{children:[i.giftOptionsWrapTitle,V(x)]}),description:T,onChange:s})}),t(ne,{disabled:r||!u.length,type:"button","data-testid":`gift-option-customize-${o}`,variant:"tertiary",onClick:()=>n(!0),children:i.customize})]}):null]})},ot=({view:e,giftOptions:o,disabled:l,errorMessage:c,onInputChange:r,onBlur:p,isGiftMessageVisible:u})=>{const n=We(),s=X({formTitle:`Cart.GiftOptions.${e}.formContent.formTitle`,formTo:`Cart.GiftOptions.${e}.formContent.formTo`,formFrom:`Cart.GiftOptions.${e}.formContent.formFrom`,giftMessageTitle:`Cart.GiftOptions.${e}.formContent.giftMessageTitle`,formToPlaceholder:`Cart.GiftOptions.${e}.formContent.formToPlaceholder`,formFromPlaceholder:`Cart.GiftOptions.${e}.formContent.formFromPlaceholder`,formMessagePlaceholder:`Cart.GiftOptions.${e}.formContent.formMessagePlaceholder`});return u?f(A,{children:[t("span",{children:s.formTitle}),f("div",{children:[t("span",{children:s.formTo}),t(Z,{disabled:l,error:c.recipientName,children:t(_e,{id:`recipientName-${n}`,disabled:l,type:"text",name:"recipientName",value:o.recipientName,placeholder:s.formToPlaceholder,onChange:r,onBlur:p})})]}),f("div",{children:[t("span",{children:s.formFrom}),t(Z,{disabled:l,error:c.senderName,children:t(_e,{id:`senderName-${n}`,disabled:l,type:"text",name:"senderName",value:o.senderName,placeholder:s.formFromPlaceholder,onChange:r,onBlur:p})})]}),f("div",{children:[t("span",{children:s.giftMessageTitle}),t(Z,{disabled:l,children:t(Ye,{id:`message-${n}`,errorMessage:c.message,disabled:l,name:"message",value:o.message,label:s.formMessagePlaceholder,onChange:r,onBlur:p})})]})]}):null},st=({view:e,giftOptions:o,giftWrappingConfig:l,readOnlyFormOrderView:c})=>{const r=X({readOnlyProductTitle:"Cart.GiftOptions.product.readOnlyFormView.title",wrapping:"Cart.GiftOptions.product.readOnlyFormView.wrapping",recipient:"Cart.GiftOptions.product.readOnlyFormView.recipient",sender:"Cart.GiftOptions.product.readOnlyFormView.sender",message:"Cart.GiftOptions.product.readOnlyFormView.message",readOnlyOrderTitle:"Cart.GiftOptions.order.readOnlyFormView.title",readOnlyOrderGiftReceiptTitle:"Cart.GiftOptions.order.readOnlyFormView.giftReceipt",readOnlyOrderGiftReceiptText:"Cart.GiftOptions.order.readOnlyFormView.giftReceiptText",readOnlyOrderGiftPrintCardTitle:"Cart.GiftOptions.order.readOnlyFormView.printCard",readOnlyOrderGiftPrintCardText:"Cart.GiftOptions.order.readOnlyFormView.printCardText",readOnlyOrderGiftWrapTitle:"Cart.GiftOptions.order.readOnlyFormView.giftWrap",readOnlyOrderGiftWrapOptionsText:"Cart.GiftOptions.order.readOnlyFormView.giftWrapOptions",readOnlyOrderFormTitle:"Cart.GiftOptions.order.readOnlyFormView.formTitle",readOnlyOrderFormTo:"Cart.GiftOptions.order.readOnlyFormView.formTo",readOnlyOrderFormFrom:"Cart.GiftOptions.order.readOnlyFormView.formFrom",readOnlyOrderFormMessageTitle:"Cart.GiftOptions.order.readOnlyFormView.formMessageTitle"}),{recipientName:p,senderName:u,message:n,giftReceiptIncluded:s,printedCardIncluded:m,isGiftWrappingSelected:y}=o,i=l==null?void 0:l.find(({uid:g})=>g===(o==null?void 0:o.giftWrappingId)),w=!!p||!!u||!!n,W=i==null?void 0:i.design,_=s||m||(i==null?void 0:i.selected),C=[{id:1,title:r.wrapping,message:y?W:""},{id:2,title:r.recipient,message:p},{id:3,title:r.sender,message:u},{id:4,title:r.message,message:n}],M=C.every(({message:g})=>!g);if(e==="product"&&!M)return t(Pe,{"data-testid":"gift-options-product",iconClose:Ve,iconOpen:$e,actionIconPosition:"right",children:t(Ne,{title:r.readOnlyProductTitle,showIconLeft:!0,iconLeft:se,defaultOpen:!1,renderContentWhenClosed:!1,children:t("div",{children:C.filter(g=>g.message).map(g=>f("p",{children:[g.title," ",g.message]},g.id))})})});if(e==="order"&&(w||_)){const g=f("div",{className:"cart-gift-options-readonly__header",children:[t(J,{source:se,size:"24"}),t("span",{children:r.readOnlyOrderTitle})]}),T=f(A,{children:[s?f("div",{className:"cart-gift-options-readonly__checkboxes cart-gift-options-readonly__checkboxes--gift-receipt",children:[t(J,{source:U,size:"16"}),t("p",{children:r.readOnlyOrderGiftReceiptTitle}),t("p",{children:r.readOnlyOrderGiftReceiptText})]}):null,m?f("div",{className:"cart-gift-options-readonly__checkboxes cart-gift-options-readonly__checkboxes--print-card",children:[t(J,{source:U,size:"16"}),t("p",{children:r.readOnlyOrderGiftPrintCardTitle}),t("p",{children:r.readOnlyOrderGiftPrintCardText})]}):null,i!=null&&i.selected?f("div",{className:"cart-gift-options-readonly__checkboxes cart-gift-options-readonly__checkboxes--gift-wrap",children:[t(J,{source:U,size:"16"}),f("p",{children:[r.readOnlyOrderGiftWrapTitle," (+",t(de,{amount:i.price.value,currency:i.price.currency,weight:"normal"}),")"]}),t("p",{children:`${r.readOnlyOrderGiftWrapOptionsText} ${i==null?void 0:i.design}`})]}):null]}),v=w?f("div",{className:"cart-gift-options-readonly__form",children:[t("div",{children:r.readOnlyOrderFormTitle}),f("div",{children:[f("p",{children:[t("span",{children:r.readOnlyOrderFormTo}),t("span",{children:p})]}),f("p",{children:[t("span",{children:r.readOnlyOrderFormFrom}),t("span",{children:u})]})]}),f("div",{children:[t("p",{children:r.readOnlyOrderFormMessageTitle}),t("p",{children:n})]})]}):null;return f(Me,{variant:c,children:[g,T,v]})}return null},dt=({item:e,view:o,loading:l,giftOptions:c,showModal:r,isEditable:p,errorsField:u,updateLoading:n,cartData:s,fieldsDisabled:m,isGiftOptionsApplied:y,giftWrappingConfig:i,readOnlyFormOrderView:w,isGiftMessageVisible:W,areGiftOptionsVisible:_,onBlur:C,setShowModal:M,updateGiftOptions:g,onInputChange:T,handleFormMouseLeave:v})=>{const x=X({accordionHeading:`Cart.GiftOptions.${o}.accordionHeading`}),V=K($=>t(Pe,{"data-testid":"gift-options-product",iconClose:Ve,iconOpen:$e,actionIconPosition:"right",children:t(Ne,{title:f("div",{className:"cart-gift-options-view__icon--success",children:[t("span",{children:x.accordionHeading}),y?t(J,{source:U,size:"16"}):null]}),showIconLeft:!0,iconLeft:se,defaultOpen:y||$,renderContentWhenClosed:!1,children:f(A,{children:[t(nt,{className:"cart-gift-options-view__top",view:o,item:e,giftOptions:c,disabled:m,onInputChange:T,cartData:s,giftWrappingConfig:i,setShowModal:M,areGiftOptionsVisible:_}),t("form",{className:"cart-gift-options-view__footer",onMouseLeave:v,children:t(ot,{view:o,giftOptions:c,disabled:m,errorMessage:u,onInputChange:T,onBlur:C,isGiftMessageVisible:W})})]})})}),[o,e,s,x,u,c,m,i,_,y,W,C,M,T,v]);return!_.isGiftOptionsVisible&&!W?null:f("div",{id:"cart-gift-options-view",className:xe(["cart-gift-options-view",`cart-gift-options-view--${o}`,["cart-gift-options-view--loading",n]]),children:[n?t(De,{className:"cart-gift-options-view__spinner"}):null,l?t(it,{}):f(A,{children:[p?null:t("div",{className:"cart-gift-options-view--readonly",children:t(st,{view:o,giftOptions:c,giftWrappingConfig:i,readOnlyFormOrderView:w})}),t(rt,{view:o,productName:(e==null?void 0:e.name)??"",showModal:r,giftWrappingConfig:i,setShowModal:()=>M(!1),updateGiftOptions:g}),o==="product"&&p?V(!1):null,o==="order"&&p?t(Me,{variant:"secondary",children:V(!0)}):null]})]})},D={recipientName:"",senderName:"",message:""},lt={giftReceiptIncluded:!1,printedCardIncluded:!1,isGiftWrappingSelected:!1},Re=(e,o)=>{var c,r;if(!o)return!!((c=E.config)!=null&&c.allowGiftMessageOnOrder);const l=((r=E.config)==null?void 0:r.allowGiftMessageOnOrderItems)??!1;return typeof(e==null?void 0:e.giftMessageAvailable)=="boolean"?e==null?void 0:e.giftMessageAvailable:!!l},ct=(e,o)=>{const{allowGiftWrappingOnOrder:l,allowGiftWrappingOnOrderItems:c,allowGiftMessageOnOrder:r,allowGiftMessageOnOrderItems:p,allowGiftReceipt:u,allowPrintedCard:n}=E.config||{};return e==="product"&&!p&&!c&&!Re(o,!0)||e==="order"&&!l&&!r&&!u&&!n},at=({item:e,view:o,dataSource:l,initialLoading:c,handleItemsLoading:r,handleItemsError:p,onItemUpdate:u,onGiftOptionsChange:n})=>{var ce,ae,fe,pe,ue,ge;const s=o==="product",m=X({requiredFieldError:"Cart.GiftOptions.formText.requiredFieldError"}),[y,i]=N(()=>c),[w,W]=N({isGiftReceiptVisible:!0,isPrintedCartVisible:!0,isGiftWrappingVisible:!0,isGiftOptionsVisible:!0}),[_,C]=N(!0),[M,g]=N(!1),[T,v]=N(!1),[x,V]=N(!1),[$,S]=N(!1),[z,L]=N(!1),[H,ke]=N([]),[O,Se]=N(null),[Ie,ee]=N(D),[G,le]=N(()=>({giftWrappingId:"",...D,...lt})),te=((ce=G.recipientName)==null?void 0:ce.trim())&&((ae=G.senderName)==null?void 0:ae.trim())&&((fe=G.message)==null?void 0:fe.trim()),Y=!((pe=G.recipientName)!=null&&pe.trim())&&!((ue=G.senderName)!=null&&ue.trim())&&!((ge=G.message)!=null&&ge.trim()),k=K(async d=>{switch(g(o==="order"),v(!0),o){case"product":{r==null||r(e.uid,!0),p==null||p(e.uid);const{recipientName:a,senderName:F,message:h,giftWrappingId:P,isGiftWrappingSelected:b}=d,B={gift_message:{to:a,from:F,message:h},gift_wrapping_id:b?P:null};await et([{uid:e.uid,quantity:e.quantity,giftOptions:B}]).then(()=>{u==null||u({item:e})}).finally(()=>{r==null||r(e.uid,!1),v(!1),V(!1),g(!1)}).catch(R=>{console.warn(R)})}break;case"order":await tt(d).finally(()=>{v(!1),V(!1),g(!1)});break;default:console.error('Incorrect "view" prop value provided for GiftOptions container (storefront-cart)');break}},[p,r,e,u,o]),re=K((d,a,F={})=>{le(h=>{const P=I=>I in h,b=I=>P(I)?h[I]:void 0;if(!(b(d)!==a||Object.keys(F).some(I=>b(I)!==F[I])))return n==null||n(h),h;const R={...h,[d]:a,...F};return!R.recipientName&&!R.senderName&&!R.message&&S(!0),(typeof a=="boolean"||["giftWrappingId","giftReceiptIncluded","printedCardIncluded"].includes(d))&&(typeof n=="function"?n(R):k(R)),V(!0),n==null||n(R),R})},[k,n]),Ae=K(async()=>{T||typeof n!="function"&&(Y&&$&&(ee(D),S(!1),await k(G)),x&&te&&(S(!0),await k(G)))},[k,G,x,Y,$,T,n]),Be=K(async d=>{if(T||typeof n=="function")return;const{name:a,value:F}=d.target;ee(h=>({...h,[a]:F.trim()?"":m.requiredFieldError})),Y&&$&&(ee(D),S(!1),await k(G)),x&&te&&await k(G)},[T,Y,$,x,te,m,k,G,n]),Ee=K(d=>{const a=d.target,F=a.name,h=a.type==="checkbox"?a.checked:a.value;re(F,h)},[re]);oe(()=>{if(s)return;const d=Ue.on(l==="cart"?"cart/data":"order/data",a=>{var P,b;Se(a);const F=(P=a==null?void 0:a.items)==null?void 0:P.every(({giftWrappingAvailable:B})=>B),h=(b=a==null?void 0:a.cartGiftWrapping)==null?void 0:b.some(B=>B.selected);!F&&h&&k({...G,giftWrappingId:"",isGiftWrappingSelected:!1})},{eager:!0});return()=>{d==null||d.off()}},[k,l,G,s]);const q=ve(()=>{var Ce,Ge,ye,Te,Fe,be;if(!O&&!e)return null;const d=s?(Ce=e==null?void 0:e.productGiftWrapping)==null?void 0:Ce.map(j=>{var we;return{...j,price:((we=e==null?void 0:e.giftWrappingPrice)==null?void 0:we.value)>0?e.giftWrappingPrice:j.price}}):(O==null?void 0:O.cartGiftWrapping)||[],a=d==null?void 0:d.find(j=>j.selected),F=(a==null?void 0:a.uid)??((Ge=d==null?void 0:d[0])==null?void 0:Ge.uid),h=!!a,P=s?e==null?void 0:e.giftMessage:O==null?void 0:O.giftMessage,b=O==null?void 0:O.printedCardIncluded,B=O==null?void 0:O.giftReceiptIncluded,R=Re(e,s),I=(ye=E.config)==null?void 0:ye.allowGiftWrappingOnOrder,ze=(Te=E.config)==null?void 0:Te.allowGiftReceipt,Le=(Fe=E.config)==null?void 0:Fe.allowPrintedCard,qe=(be=O==null?void 0:O.items)==null?void 0:be.every(j=>j.giftWrappingAvailable),je=e==null?void 0:e.giftWrappingAvailable,me=s?!1:ze,Oe=s?!1:Le,he=s?!!je&&!!d.length:I&&d.length&&qe;return W({isGiftReceiptVisible:me,isPrintedCartVisible:Oe,isGiftWrappingVisible:he,isGiftOptionsVisible:!(!me&&!Oe&&!he)}),C(R),{...e!=null&&e.uid?{itemId:e.uid}:{},...s?{}:{printedCardIncluded:b,giftReceiptIncluded:B},...P,giftWrappingId:F,isGiftWrappingSelected:h,giftWrappingOptions:d}},[O,e,s]);oe(()=>{if(!q)return;const{giftWrappingOptions:d}=q;le(a=>{const F=P=>P in a,h=Object.keys(q).reduce((P,b)=>F(b)&&a[b]!==q[b]?{...P,[b]:q[b]}:P,{});return Object.keys(h).length>0?{...a,...h}:a}),d!=null&&d.length&&ke(d),i(!1)},[q]);const He=ve(()=>Object.entries(G).filter(([d])=>d!=="itemId"&&d!=="giftWrappingId").some(([,d])=>!!d),[G]);return{loading:y,giftOptions:G,showModal:z,errorsField:Ie,updateLoading:M,cartData:O,fieldsDisabled:T,isGiftOptionsApplied:He,giftWrappingConfig:H,setFieldsDisabled:v,handleFormMouseLeave:Ae,onInputChange:Ee,updateGiftOptions:re,setShowModal:L,handleBlur:Be,isGiftMessageVisible:_,areGiftOptionsVisible:w}},Nt=({item:e,view:o="order",readOnlyFormOrderView:l="primary",dataSource:c="cart",isEditable:r=!0,initialLoading:p=!0,handleItemsLoading:u,handleItemsError:n,onItemUpdate:s,onGiftOptionsChange:m})=>{const{isGiftMessageVisible:y,areGiftOptionsVisible:i,loading:w,giftOptions:W,showModal:_,errorsField:C,updateLoading:M,cartData:g,isGiftOptionsApplied:T,fieldsDisabled:v,giftWrappingConfig:x,handleFormMouseLeave:V,updateGiftOptions:$,setShowModal:S,onInputChange:z,handleBlur:L}=at({item:e,view:o,dataSource:c,initialLoading:p,handleItemsLoading:u,handleItemsError:n,onItemUpdate:s,onGiftOptionsChange:m});return!w&&ct(o,e)?null:t(dt,{item:e,view:o,loading:w,onBlur:L,giftOptions:W,showModal:_,isEditable:r,errorsField:C,setShowModal:S,updateLoading:M,updateGiftOptions:$,cartData:g,isGiftOptionsApplied:T,fieldsDisabled:v,giftWrappingConfig:x,handleFormMouseLeave:V,readOnlyFormOrderView:l,onInputChange:z,isGiftMessageVisible:y,areGiftOptionsVisible:i})};export{Nt as GiftOptions,Nt as default};
